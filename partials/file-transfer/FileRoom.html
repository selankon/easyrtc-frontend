<md-content ng-controller="tutoCntrl" ng-init="showSimpleToast()" style="min-height: calc(100vh - 176px)" layout="row" layout-row  flex>

  <!-- ICON THAT OPEN SIDENAV -->
  <md-fab-speed-dial ng-cloak ng-init="show=true"  class="md-fling md-fab-top-left hide-gt-sm" md-direction="right">
    <md-fab-trigger>
        <md-button  aria-label="menu" class="md-fab md-primary md-mini" ng-click="toggleLeft()">
          <md-icon md-font-icon="fa-bars" class="fa fa-lg" ></md-icon>
        </md-button>
    </md-fab-trigger>
  </md-fab-speed-dial>



  <!-- SIDENAV -->
    <!-- Sidenav Header -->
    <md-sidenav
            class="md-sidenav-left"
            md-component-id="left"
            md-is-locked-open="$mdMedia('gt-sm')"
            md-disable-backdrop
            md-whiteframe="4" flex>
          <md-toolbar class="md-theme-indigo">
            <h1 class="md-toolbar-tools">Room: "{{roomId}}"</h1>
            <div class="md-toolbar-tools">

              <div ng-show="myId">
                <md-button ng-click="disconnect()" aria-label="comment" class="md-accent md-raised md-hue-5" >
                  <md-icon md-font-icon="fa-sign-out" class="fa fa-lg" style="color:white;" ></md-icon>
                </md-button>
              </div>
              <div ng-show="!myId">
                <span class="md-caption">You need to log in:</span>
                <md-button ng-init="my_init()" ng-click="my_init()" aria-label="comment" class="md-button btn-success" style="background-color: #329932;" >
                  Login!
                </md-button>
              </div>

            </div>
          </md-toolbar>
          <md-content layout-padding ng-controller="LeftCtrl">

            <!-- Self ID -->
            <span ng-show="myId"  ><span class="md-caption">Your <strong>easyrtc</strong> id is: </br>{{myId}} </span>
            </span>
            <md-divider inset></md-divider>

            <!-- Show users list -->
            <div hide-md show-gt-md>
              <div ng-repeat="user in UserList" ng-click="" layout-align="center center">
                <p>{{user.easyrtcid}}</p>
                <div layout="row" layout-align="center center">
                  <span class="md-caption">Send private file </span>
                  <div ng-init='conectionToPeer(user.easyrtcid)' class="button-control" alt="VideoCall" style="background-color:#009688;color:white;"><i class="fa fa-space-shuttle"></i></div>
                </div>
                <div ng-click="changeDestiny(user.easyrtcid)" class="button-control" style="background-color:#9c27b0;color:white;" alt="VideoCall"><i class="fa fa-comment"></i></div>
                <md-divider inset></md-divider>

              </div>
            </div>
          </md-content>
        </md-sidenav>

        <!-- CENTER -->
        <md-content layout="column"  flex="70">
          <md-content layout="row"   flex>

            <!-- SELF DRAG AND DROP -->
            <md-content flex="50" layout="column"   class="border-radius"   layout-align="center center" layout-margin>

              <md-content id="{{dropAreaName}}{{myId}}"  class="dragndrop connected drag-n-drop-zone border-radius-high" layout-align="center center" layout="column" flex>


                <!-- <md-content flex layout="row"  layout-align="center center" > -->
                  <button  id="fileInput"  ngf-select="uploadFiles($files)" multiple class="ng-hide">Select Files</button>
                  <!-- <input id="fileInput" name="file" type="file" multiple class="ng-hide"> -->
                  <md-button type="button" class="md-raised md-primary" onclick="document.getElementById('fileInput').click()">Browse files</md-button>
                <!-- </md-content> -->
                <!-- <md-content flex layout="row"  layout-align="center center" > -->
                  <span class="md-title " >Or Drag&Drop!</span>
                <!-- </md-content> -->

              </md-content>

            </md-content>
            <!-- SELF SHOW FILES -->
            <md-content flex="50" layout="column"   class="border-radius" style="border: 1px solid red;"  >

              <md-toolbar layout="row" class="md-theme-indigo" >
                    <div class="md-toolbar-tools">
                      <span>Files list:</span>
                    </div>
              </md-toolbar>
              <!-- <md-content>
                <md-list class="md-dense" >
                  <md-subheader class="md-no-sticky">3 line item (dense)</md-subheader>
                    <md-list-item class="md-3-line" ng-repeat="file in filesToSend">
                      {{file.name}}
                    </md-list-item>
                    <md-divider ></md-divider>
                  </md-list>
                </md-content> -->
<!-- <md-content layout="row" ng-repeat="file in filesToSend"  > -->
              <div ng-repeat="file in filesToSend"  class="file-list-element" flex>
                <!-- <span ng-bind-html='file.type | fileIcon'></span> -->
                <i class="fa {{file.type | fileIcon }} fa-lg"></i>
                {{file.name}}
                <md-divider ></md-divider>
              </div>

            <!-- </md-content> -->

            <!-- chat body -->
            <!-- <md-content layout="row" layout-align="end start "  flex-gt-sm="100" flex="grow">
              <md-content layout="column"  layout-align="start end"  flex-gt-sm="100" flex="65">
                <md-content layout="row" >
                  <md-content class="md-padding main-content"   flex="100" >

                    <div ng-repeat="file in filesToSend"  class="fade-in">
                      <i class="fa {{file.type | fileIcon }} fa-lg"></i>
                      {{file.name}}

                    </div>
                  </md-content>
                </md-content>
              </md-content>
            </md-content> -->


            </md-content>

          </md-content>

          <div layout="row"  flex="50" style="background-color:green;">

          </div>
        </md-content>

        <!-- CHAT SPACE -->
        <div flex="30"  style="border: 1px solid grey;" class="border-radius" layout="column" ng-show="myId">
          <md-content chat  ></md-content>
        </div>


</md-content>
